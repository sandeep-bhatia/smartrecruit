function DetectBandWidth()
{
			var dataVal = 'sampleData=2027212184115088218562232031851433217317111265756232791145012221121719651201304830987610955200153601121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';
			dataVal +=  '20272121841150882185622320318514332173171112657562327911450122211217196512013048309876109552001536014122548164151121213224';


			var frameSpeed = 0;
		
			var func = function(html) {  
				 			var endTime = (new Date()).getTime() ;
							var duration = Math.round((endTime - startTime) / 1000) ;
							if(duration < 500)
							{
								frameSpeed += 30;
								$('<p>' + frameSpeed + '</p>').appendTo('body');	
		
							}
							else if(duration > 2000)
							{
								frameSpeed += 22;
								$('<p>' + frameSpeed + '</p>').appendTo('body');	
	
							}
							else
							{
								frameSpeed += 22 + Math.round((duration - 500) / 1500 * 10);
								$('<p>' + frameSpeed + '</p>').appendTo('body');
							}
					
			};

			var startTime = (new Date()).getTime() ;
			var endTime = (new Date()).getTime() ;
				$.ajax({  
					 type: "POST",  
					 url: "bandwidthdetectorping.php",  
      			     		 cache: false, 
					 data: dataVal,  
					 async: false,
					 success: func
			 	}); 
				$.ajax({  
					 type: "POST",  
					 url: "bandwidthdetectorping.php",  
      			     		 cache: false, 
					 data: dataVal,  
					 async: false,
					 success: func
			 	});
				$.ajax({  
					 type: "POST",  
					 url: "bandwidthdetectorping.php",  
      			     		 cache: false, 
					 data: dataVal,  
					 async: false,
					 success: func
			 	});
				var framespeedAvg = frameSpeed / 3;
				var frameRateStr = 'framerate=' + framespeedAvg;
				$.ajax({  
					 type: "POST",  
					 url: "setframerate.php",  
      			     		 cache: false, 
					 async: false,
					 data: frameRateStr,  
					 success: function(html) { 
					 } 
				});  	
			return frameSpeed;
		
};
